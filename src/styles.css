/* Mapmode label text truncation for left panel */
.mode-chip .txt {
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
} 
/* Splash dot-dot-dot loading */
.splash-dots {
  margin-top: 18px;
  font-size: 2.2rem;
  font-weight: 700;
  color: #1976d2;
  letter-spacing: 0.18em;
  text-align: center;
  font-family: "Segoe UI", "Arial", sans-serif;
  user-select: none;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 2.5rem;
}
.splash-dot {
  opacity: 0.2;
  animation: splash-dot-fade 1.2s infinite;
  margin: 0 0.08em;
}
.splash-dot:nth-child(1) {
  animation-delay: 0s;
}
.splash-dot:nth-child(2) {
  animation-delay: 0.25s;
}
.splash-dot:nth-child(3) {
  animation-delay: 0.5s;
}

@keyframes splash-dot-fade {
  0%,
  80%,
  100% {
    opacity: 0.2;
  }
  40% {
    opacity: 1;
  }
}
/* Splash title */
.splash-title {
  margin-top: 18px;
  font-size: 1rem;
  font-weight: 400;
  color: #222222;
  letter-spacing: 0.01em;
  text-align: center;
  font-family: sans-serif;
  user-select: none;
}
/* Splash logo move animation */
.splash-img-wrap {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  transition: all 1.1s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}
.splash-img-move {
  align-items: flex-start;
  justify-content: flex-start;
  padding-left: 32px;
  padding-top: 24px;
  width: 100vw;
  height: 100vh;
}
.splash-img-move .splash-img {
  width: 80px !important;
  min-width: 60px;
  max-width: 90px;
  transition: width 1.1s cubic-bezier(0.4, 0, 0.2, 1);
}
.splash-img-move .splash-spinner {
  opacity: 0;
  transition: opacity 0.5s;
}
/* Splash loading spinner */
.splash-spinner {
  margin-top: 32px;
  width: 44px;
  height: 44px;
  border: 4px solid #e0e0e0;
  border-top: 4px solid #1976d2;
  border-radius: 50%;
  animation: splash-spin 1s linear infinite;
  box-sizing: border-box;
}

@keyframes splash-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
/* ====== İSKELET ====== */
html,
body,
#root {
  height: 100%;
  margin: 0;
}
.app-root {
  height: 100dvh;
  display: flex;
  flex-direction: column;
  background: #0000;
}

/* ====== ÜST BAR (transparan) ====== */
.app-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 10010;
  padding: 8px 10px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.app-header.transparent {
  background: transparent;
  border: none;
}

/* hamburger */
.hamburger-btn {
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  background: #ffffffcc; /* hafif şeffaf */
  backdrop-filter: blur(6px);
  cursor: pointer;
}
.hamburger-btn span {
  display: block;
  width: 18px;
  height: 2px;
  background: #111827;
  margin: 2px 0;
}

/* ====== HARİTA KAPSAYICI ====== */
.map-wrap {
  flex: 1;
  min-height: 0;
  position: relative;
}
.leaflet-container {
  width: 100%;
  height: 100%;
}

/* ====== LOGO: zoom kontrolünün yanında sol üst ====== */
/* Zoom kontrolünün default ölçüsüne göre hesaplı konum */
:root {
  --leaflet-zoom-margin: 10px; /* Leaflet default */
  --leaflet-zoom-size: 36px; /* +/- buton kutusu genişliği */
  --brand-gap: 8px; /* kontrol ile logo arası boşluk */
}
.map-brand {
  position: absolute;
  top: var(--leaflet-zoom-margin);
  left: calc(
    var(--leaflet-zoom-margin) + var(--leaflet-zoom-size) + var(--brand-gap)
  );
  z-index: 1005; /* Leaflet kontrol (1000) üstü */
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none; /* harita sürüklemeyi engellemesin */
}
.map-brand img {
  width: 150px; /* yatay dikdörtgen */
  height: 50px;
  object-fit: inherit;
  border-radius: 16px; /* köşeler yumuşak */
  background: transparent; /* arka plan transparan */
  box-shadow: none;
}

/* ====== DRAWER (yandan açılan) ====== */
.drawer-root {
  position: fixed;
  inset: 0;
  z-index: 10000;
  pointer-events: none;
}
.drawer-root.open {
  pointer-events: auto;
}
.drawer-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
  opacity: 0;
  transition: opacity 0.25s ease;
}
.drawer-root.open .drawer-backdrop {
  opacity: 1;
}

.drawer-panel {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  width: min(88vw, 380px);
  background: #fff;
  border-right: 1px solid #e5e7eb;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  transform: translateX(-100%);
  transition: transform 0.25s ease;
  display: flex;
  flex-direction: column;
}
.drawer-root.open .drawer-panel {
  transform: translateX(0);
}

.drawer-header {
  padding: 12px;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.drawer-title {
  font-family: sans-serif;
  font-weight: 700;
  font-size: 16px;
  color: #111827;
}
.drawer-close {
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 8px;
  padding: 6px 10px;
  cursor: pointer;
  color: #374151;
}

.drawer-search {
  padding: 10px 12px;
  border-bottom: 1px solid #f1f5f9;
}
.drawer-search input {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  outline: none;
}

.drawer-list {
  padding: 10px;
  overflow-y: auto;
  flex: 1;
}
.drawer-item {
  padding: 8px 10px;
  border-radius: 10px;
  margin-bottom: 6px;
  cursor: pointer;
  background: #f8fafc;
  color: #111827;
  border: 1px solid #eef2f7;
}
.drawer-item:hover {
  background: #eef2f7;
}
.drawer-item.selected {
  background: #2563eb;
  color: #fff;
  border-color: #2563eb;
}

/* ====== Alt bilgi çubuğu scrollbar - opsiyonel ====== */

/* Grid ve kartlar */
.metric-grid {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}
@media (min-width: 768px) {
  .metric-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.metric-card {
  background: linear-gradient(180deg, #f9fafb 0%, #f3f4f6 100%);
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 12px;
}
.metric-label {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: #6b7280; /* gray-500 */
  font-family: sans-serif;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.2px;
}
.metric-icon {
  font-family: sans-serif;
  font-size: 14px;
}
.metric-value {
  margin-top: 6px;
  font-family: sans-serif;
  font-weight: 400;
  /* mobilde büyük, masaüstünde daha da büyük: */
  font-size: clamp(20px, 4.2vw, 20px);
  line-height: 1.1;
  color: #111827; /* gray-900 */
  letter-spacing: 0.3px;
}

/* Çeşit rozetleri */
.varieties {
  margin-top: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  font-family: sans-serif;
  font-size: 13px;
  color: #111827;
  background: #fff;
}
.pill-tree {
  background: #ecfdf5;
  border-color: #bbf7d0;
} /* yeşil - ağaç */
.pill-sapling {
  background: #fffbeb;
  border-color: #fde68a;
} /* amber - fidan */
.pill-kind {
  opacity: 0.75;
}
.pill-name {
  font-family: sans-serif;
  font-weight: 700;
}
.pill-count {
  opacity: 0.75;
}

/* Alt bilgi çubuğu scrollbar (mevcutsa) */
/* Alt panel kabı */
.selected-info {
  background: rgba(255, 255, 255, 0.96);
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  border: 1px solid rgba(0, 0, 0, 0.06);
  padding: 14px 16px;
  max-height: 45vh;
  overflow-y: auto;
}

.selected-info-title {
  font-family: sans-serif;
  font-weight: 600;
  font-size: clamp(16px, 2.6vw, 20px);
  color: #0f172a;
  margin-bottom: 10px;
}

/* Genel kart */
.info-card {
  background: linear-gradient(180deg, #f9fafb 0%, #f3f4f6 100%);
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 12px;
}
.info-card + .info-card {
  margin-top: 10px;
}
.info-card-title {
  color: #6b7280;
  font-family: sans-serif;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.2px;
  margin-bottom: 6px;
}
.info-card-body {
  font-family: sans-serif;
  font-size: 14px;
  color: #111827;
}

/* 2 sütun düzeni */
.two-col {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
  margin-top: 10px;
}
@media (min-width: 768px) {
  .two-col {
    grid-template-columns: 1fr 1fr;
  }
}

/* Tanım metni */
.desc-text {
  font-family: sans-serif;
  font-weight: 700;
  font-size: clamp(16px, 2.2vw, 18px);
  line-height: 1.35;
  color: #111827;
}

/* Key/Value küçük tablo */
.kv > div {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  padding: 4px 0;
}
.kv-key {
  color: #6b7280;
  font-family: sans-serif;
  font-weight: 600;
  font-size: 12px;
}
.kv-val {
  color: #111827;
  font-family: sans-serif;
  font-weight: 700;
}

/* Büyük sayı */
.stat-big {
  font-family: sans-serif;
  font-weight: 900;
  font-size: clamp(22px, 4.2vw, 32px);
  line-height: 1.1;
  color: #0f172a;
}
.sub-muted {
  font-family: sans-serif;
  margin-top: 2px;
  color: #6b7280;
  font-size: 12px;
}

/* Çeşit rozetleri */
.pills {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #fff;
  color: #111827;
  font-family: sans-serif;
  font-size: 13px;
}
.pill-name {
  font-family: sans-serif;
  font-weight: 700;
}
.pill-count {
  opacity: 0.75;
}

/* Scrollbar estetiği (opsiyonel) */
.selected-info-scroll::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}
.selected-info-scroll::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 8px;
}
/* ===== Ağaç / Fidan vurgu kutuları ===== */
.sai-box {
  font-size: 15px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 10px;
  background: #fff;
}

.sai-box.tree {
  /*border-color: #86efac; /* green-300 */
  background: linear-gradient(180deg, #ecfdf5 0%, #ffffff 55%);
}
.sai-box.sapling {
  /*border-color: #fcd34d; /* amber-300 */
  background: linear-gradient(180deg, #fffbeb 0%, #ffffff 55%);
}

.sai-box-head {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-bottom: 8px;
}
.sai-box-icon {
  font-size: 14px;
  line-height: 1;
}
.sai-box-title {
  font-weight: 600;
  color: #0f172a; /* koyu başlık */
  margin-right: auto; /* toplamı sağa it */
}
.sai-box-total {
  font-weight: 600;
  color: #0f172a;
  font-size: 18px;
  line-height: 1; /* vurgu */
}

/* Chip’leri kutunun rengine göre renklendir */
.tree .sai-chips .sai-chip {
  background: #ecfdf5; /* green-50 */
  border-color: #86efac; /* green-300 */
  color: #065f46; /* green-800 */
}
.sapling .sai-chips .sai-chip {
  background: #fffbeb; /* amber-50 */
  border-color: #fcd34d; /* amber-300 */
  color: #854d0e; /* amber-800 */
}

/* Chip yazıları biraz daha vurgulu */
.sai-chips.strong .sai-chip {
  font-size: 13px;
}
.sai-chip-name {
  font-weight: 700;
  letter-spacing: 0.2px;
}
.sai-chip-count {
  font-weight: 600;
  opacity: 0.8;
}
/* Panel genel (kompakt, sans-serif, normal boyutlar) */
.sai-panel {
  font-family: ui-sans-serif, -apple-system, system-ui, "Segoe UI", Roboto,
    Arial, sans-serif;
  background: rgba(34, 40, 49, 0.5); /* antrasit ve yarı şeffaf */
  border: 1px solid #222831;
  border-radius: 10px;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.13);
  padding: 6px 12px;
  max-height: 50vh;
  overflow-y: auto;
  position: relative;
  z-index: 1;
  color: #fff;
  backdrop-filter: blur(2px);
  transition: background 0.2s;
}
.sai-head {
  font-weight: 700;
  font-size: 12px;
  color: #111827;
  margin-bottom: 8px;
}

.sai-card {
  background: #fff;
  border-radius: 5px;
  padding: 4px 4px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}
.sai-card-title {
  color: #6b7280;
  font-weight: 600;
  font-size: 12px;
  margin-bottom: 0;
  text-align: center;
}
.sai-card-body {
  font-size: 14px;
  color: #111827;
  text-align: center;
  margin: 0;
}

.mode-table {
  margin-top: 4px;
  font-weight: 600;
}
/* 🔹 3’lü üst satır: Tanım • Parsel • Dönüm */
.sai-row-3 {
  display: grid;
  grid-template-columns: 1.4fr 1.4fr 1fr; /* Tanım geniş, diğerleri kompakt */
  gap: 4px;
  margin-top: 4px;
}

/* Alt satır: Ağaç • Fidan (mobilde de 2 sütun tutmak istersen grid’i koru) */
.sai-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4px;
  margin-top: 4px;
}

/* Tanım metni (normal) */
.sai-desc {
  font-weight: 600;
  font-size: 13px;
  line-height: 1.3;
  margin-bottom: 2px;
}

/* Key/Value satırları */
.sai-kv > div {
  display: flex;
  justify-content: left;
  gap: 8px;
  padding: 1px 1;
}
.sai-kv .key {
  color: #6b7280;
  font-weight: 600;
  font-size: 10px;
}
.sai-kv .val {
  color: #111827;
  font-weight: 600;
  font-size: 12px;
  line-height: 1;
}

/* Dönüm metrikleri (normal boy) */
.sai-metric {
  font-weight: 600;
  font-size: 14px;
  line-height: 1;
  color: #0f172a;
}
.sai-sub {
  margin-top: 2px;
  color: #6b7280;
  font-size: 12px;
}

/* Çeşit chip’leri (kompakt) */
.sai-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}
.sai-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 8px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
  font-size: 12px;
  color: #111827;
}
.sai-chip-name {
  font-weight: 600;
}
.sai-chip-count {
  opacity: 0.7;
}

/* Boş durum */
.sai-empty {
  color: #6b7280;
  font-size: 14px;
}

/* Var olan kompakt stillerle uyumlu – (önceki ayarların üzerinde çalışır) */
/* Başlık satırında buton */
.sai-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-weight: 700;
  font-size: 14px;
  color: #111827;
  margin-bottom: 8px;
}
.sai-btn {
  font: inherit;
  font-size: 12px;
  padding: 6px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #ffffff;
  color: #111827;
  cursor: pointer;
}
.sai-btn:hover {
  background: #f9fafb;
}
/* Başlık: sol başlık • ortada logo • sağda buton */
.sai-head.sai-head-3 {
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* sol • logo • sağ */
  align-items: center;
  gap: 8px;
  margin-bottom: 6px; /* kompakt */
}
.sai-head-left {
  justify-self: start;
}
.sai-head-center {
  justify-self: center;
}
.sai-head-right {
  justify-self: end;
}

/* Küçük logo */
.sai-head-logo {
  height: 18px; /* boyutu buradan ayarla (örn. 16–22px) */
  width: auto;
  object-fit: contain;
  display: block;
  opacity: 0.95;
  pointer-events: none; /* tıklamayı engellemesin */
}

/* (Opsiyonel) antrasit temada görünürlüğü artır */
.sai-panel.anthracite .sai-head-logo {
  filter: drop-shadow(0 0 1px rgba(0, 0, 0, 0.4));
}

/* === SAI: Dikey tür listesi (Ağaç/Fidan) === */
.sai-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column; /* sıkı aralık */
}

.sai-list-item {
  display: flex;
  align-items: center;
  padding: 1px 22px;
  background: #fff;
}

.sai-list-name {
  font-weight: 600;
  font-size: 12px;
  color: #111827;
  letter-spacing: 0.2px;
}

/* Sağdaki adet rozeti */
.sai-count-badge {
  font-weight: 600;
  font-size: 12px;
  min-width: 36px;
  text-align: center;
  background: #fff;
  color: #111827;
}

/* ===== Parsel Listeleri Modal ===== */
.plist-root {
  position: fixed;
  inset: 0;
  z-index: 10080;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}
.plist-root.open {
  pointer-events: auto;
  opacity: 1;
}

.plist-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.35);
}

.plist-panel {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: min(92vw, 720px);
  max-height: 70vh;
  overflow: hidden;
  background: rgba(250, 250, 250, 0.82);
  border: 1px solid #222831;
  border-radius: 12px;
  color: #fff;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.13);
  display: flex;
  flex-direction: column;
}

.plist-header {
  padding: 10px 12px;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.plist-title {
  font-family: sans-serif;
  font-weight: 700;
  font-size: 14px;
  color: #111827;
}
.plist-close {
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 8px;
  padding: 6px 10px;
  cursor: pointer;
  color: #374151;
}
.plist-close:hover {
  background: #f9fafb;
}

.plist-list {
  padding: 8px;
  overflow: auto;
  min-height: 120px;
}
.plist-item {
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 10px;
  background: #fff;
  cursor: pointer;
  transition: background 0.15s ease, border-color 0.15s ease;
  font-family: sans-serif;
}
.plist-item + .plist-item {
  margin-top: 8px;
}
.plist-item:hover {
  background: #f9fafb;
  border-color: #d1d5db;
}

.plist-row-1 {
  font-weight: 700;
  font-size: 14px;
  color: #0f172a;
}
.plist-row-2 {
  margin-top: 6px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 12px;
  color: #374151;
}
.pill-inline {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
  color: #111827;
}
.pill-inline.doluluk {
  background: rgba(34, 40, 49, 0.92);
  border-color: #2563eb;
  color: #2563eb;
  font-weight: 600;
}
.pill-progress {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 60px; /* ihtiyaca göre 120–200px */
  height: 22px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
  overflow: hidden;
}

.pill-progress-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0%;
  background: #c55622; /* JS ile override ediliyor */
  transition: width 180ms ease-in-out;
}

.pill-progress-label {
  position: relative; /* label üstte kalsın */
  z-index: 1;
  width: 100%;
  text-align: center;
  font-size: 12px;
  font-weight: 700;
  color: #111827;
}

/* ===== /Parsel Listeleri Modal ===== */
/* === Splash overlay (resim2.webp) === */

.splash-root {
  position: fixed;
  inset: 0;
  z-index: 10050;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff;
  transition: opacity 1.1s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 1;
}

.splash-root.splash-fadeout {
  opacity: 0;
  pointer-events: none;
}

.splash-img {
  width: min(60vw, 520px);
  height: auto;
  opacity: 0;
  transform: scale(0.96);
  animation: splash-pop 900ms ease-out forwards; /* giriş animasyonu */
  filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.18));
}
/* 3 metrik yan yana kart gibi */
.sai-row-3.metrics {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 10px;
}

/* Her Section zaten sai-card ama metrik kartlarına özel stil */
.sai-row-3.metrics .sai-card {
  background: linear-gradient(180deg, #f9fafb 0%, #ffffff 60%);
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 8px;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* Başlık */
.sai-row-3.metrics .sai-card-title {
  font-size: 10px;
  font-weight: 600;
  color: #6b7280;
  margin-bottom: 4px;
}

/* Değer */
.sai-row-3.metrics .sai-metric {
  font-size: 15px;
  font-weight: 600;
  color: #0f172a;
}

@keyframes splash-pop {
  0% {
    opacity: 0;
    transform: scale(0.96);
  }
  60% {
    opacity: 1;
    transform: scale(1.01);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes splash-fade {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
/* Grupla toggle (zoom butonlarının yanında) */
.group-toggle {
  position: absolute;
  top: var(--leaflet-zoom-margin, 10px);
  right: var(--leaflet-zoom-margin, 10px);
  z-index: 1005;
}
.group-toggle-inner {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 2px 5px;
  border: 1px solid #222831;
  border-radius: 5px;
  background: rgba(34, 40, 49, 0.52); /* antrasit ve şeffaf */
  backdrop-filter: blur(2px);
  font-family: ui-sans-serif, -apple-system, system-ui, "Segoe UI", Roboto,
    Arial, sans-serif;
  font-size: 12px;
  color: #fff;
  cursor: pointer;
  transition: background 0.2s;
}

.group-toggle-inner:hover {
  background: #2b2c2c; /* hoverda hafif gri */
}
.group-toggle input {
  accent-color: #2563eb;
}

.group-toggle input {
  accent-color: #2563eb;
}
.group-hint {
  margin-top: 6px;
  padding: 4px 6px;
  font-size: 11px;
  color: #374151;
  background: #ffffffb3;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
}

/* 3 metrik kart görünümü (zaten eklediysen tekrar ekleme) */
.sai-row-3.metrics {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 10px;
}
.sai-row-3.metrics .sai-card {
  background: linear-gradient(180deg, #f9fafb 0%, #ffffff 60%);
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 12px;
  text-align: center;
}
.sai-row-3.metrics .sai-card-title {
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;
  margin-bottom: 6px;
}
.sai-row-3.metrics .sai-metric {
  font-size: 18px;
  font-weight: 700;
  color: #0f172a;
}

/* Progress pill (doluluk) — varsa tekrar eklemeye gerek yok */
.pill-progress {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 62px;
  height: 20px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
  overflow: hidden;
}
.pill-progress-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0%;
  background: #22c55e;
  transition: width 180ms ease-in-out;
}
.pill-progress-label {
  position: relative;
  z-index: 1;
  width: 100%;
  text-align: center;
  font-size: 12px;
  font-weight: 700;
  color: #111827;
}
:root {
  --leaflet-zoom-margin: 10px;
}

/* Üstte ortalanmış küçük logo (mod panelinin üstünde) */
.map-brand-top {
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1006;
  pointer-events: none; /* harita sürüklemeyi engellemesin */
}
.map-brand-top img {
  height: 20px; /* boyutu buradan ayarla */
  width: auto;
  object-fit: contain;
  opacity: 0.95;
}

/* Harita Modları paneli (logo içeride) */
.map-modes {
  position: absolute;
  top: 2px;
  left: 5px;
  z-index: 1005;
  max-width: 320px;
  min-width: 130px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.modes-control {
  display: flex;
  flex-direction: column;
  gap: 2px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 2px 4px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);
}
.modes-logo {
  display: flex;
  justify-content: center;
  margin-bottom: 6px;
}
.modes-logo img {
  height: 22px;
  width: auto;
  object-fit: contain;
  opacity: 0.95;
}
.mode-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  background: #fff;
  cursor: pointer;
  user-select: none;
  font-family: ui-sans-serif, system-ui, sans-serif;
  font-size: 12px;
  color: #111827;
}
.mode-chip input {
  display: none;
}
.mode-chip .dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  flex: 0 0 auto;
}
.mode-chip.active {
  border-color: #c7d2fe;
  background: #eef2ff;
}
.mode-chip.active .txt {
  font-weight: 700;
}

/* Panel altındaki butonlar */
.modes-actions {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 6px;
}
.panel-btn {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  background: #ffffff;
  color: #111827;
  font-size: 12px;
  cursor: pointer;
}
.panel-btn:hover {
  background: #f9fafb;
}

/* Çoklu Seçim toggle: mod panelinin altında */

.group-toggle-inner:hover {
  background: #f9fafb;
}
.group-toggle input {
  accent-color: #2563eb;
}
.group-select-all-btn {
  padding: 6px 10px;
  font-size: 12px;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  background: #111827;
  color: #fff;
  cursor: pointer;
}
.group-select-all-btn:hover {
  background: #1f2937;
}

/* Parsel Listeleri Modal — (daha önce eklediysen tekrar ekleme) */
.plist-root {
  position: fixed;
  inset: 0;
  z-index: 10080;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.18s ease;
}
.plist-root.open {
  pointer-events: auto;
  opacity: 1;
}
.plist-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.36);
}
.plist-panel {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(92vw, 720px);
  max-height: 72vh;
  transform: translate(-50%, calc(-50% + 8px));
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: transform 0.18s ease;
}
.plist-root.open .plist-panel {
  transform: translate(-50%, -50%);
}
.plist-header {
  padding: 10px 12px;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.plist-title {
  font-weight: 700;
  font-size: 14px;
  color: #111827;
}
.plist-close {
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 12px;
  cursor: pointer;
}
.plist-close:hover {
  background: #f9fafb;
}
.plist-list {
  padding: 8px;
  overflow: auto;
}
.plist-item {
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 10px;
  background: #fff;
  cursor: pointer;
}
.plist-item + .plist-item {
  margin-top: 8px;
}
.plist-row-1 {
  font-weight: 700;
  font-size: 14px;
  color: #0f172a;
}
.plist-row-2 {
  margin-top: 6px;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 12px;
  color: #374151;
}
.pill-inline {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
  color: #111827;
  white-space: nowrap;
}

/* Doluluk progress pill */
.pill-progress {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 160px;
  height: 22px;
  border: 1px solid #e5e7eb;
  border-radius: 999px;
  background: #fff;
  overflow: hidden;
}
.pill-progress-fill {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 0%;
  transition: width 180ms ease-in-out;
}
.pill-progress-label {
  position: relative;
  z-index: 1;
  width: 100%;
  text-align: center;
  font-size: 12px;
  font-weight: 700;
  color: #111827;
}

/* Takvim Modal */
.cal-root {
  position: fixed;
  inset: 0;
  z-index: 10080;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.18s ease;
}
.cal-root.open {
  pointer-events: auto;
  opacity: 1;
}
.cal-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.36);
}
.cal-panel {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(92vw, 480px);
  transform: translate(-50%, calc(-50% + 8px));
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: transform 0.18s ease;
}
.cal-root.open .cal-panel {
  transform: translate(-50%, -50%);
}
.cal-header {
  padding: 10px 12px;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}
.cal-title {
  font-weight: 700;
  font-size: 14px;
  color: #111827;
}
.cal-close {
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 12px;
  cursor: pointer;
}
.cal-close:hover {
  background: #f9fafb;
}
.cal-body {
  padding: 12px;
}
.cal-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.cal-row label {
  display: grid;
  gap: 6px;
  font-size: 12px;
  color: #374151;
}
.cal-row input[type="date"] {
  padding: 8px 10px;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
}
.cal-actions {
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
}


/* Ekran dar ise biraz daha yaklaşsın */
@media (max-width: 520px) {
  .plist-trigger {
    transform: translateY(96px);
  }
}
/* Tek satırlık mod özeti */
.mode-one-line {
  margin-top: 8px;
}
.mode-cell-key {
  font-size: 11px;
  font-weight: 700;
  color: #6b7280;
  margin-bottom: 2px;
}
.mode-cell-val {
  font-size: 14px;
  font-weight: 600;
  color: #0f172a;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.sai-head-3 {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.sai-head-center .sai-head-logo {
  height: 18px;
  opacity: 0.95;
}
/* Durum rozeti (parsel merkezi) */
.status-icon { pointer-events: none; }
.status-badge{
  width: 24px; height: 24px;
  border-radius: 999px;
  display: flex; align-items: center; justify-content: center;
  background: #ffffff;           /* beyaz zemin */
  color: #111827;                /* ikon rengi */
  font-size: 14px; line-height: 1;
  box-shadow: 0 2px 6px rgba(0,0,0,.25);
  border: 1px solid rgba(0,0,0,.1);
  user-select: none;
}
/* Modal stilleri */
.plist-root {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: none;
  z-index: 10000;
}

.plist-root.open {
  display: block;
}

.plist-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
}

.plist-panel {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  border-radius: 8px;
  width: 90%;
  max-width: 600px;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.plist-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border-bottom: 1px solid #e5e7eb;
}

.plist-title {
  font-weight: 600;
  font-size: 18px;
}

.plist-close {
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: #6b7280;
}

.plist-close:hover {
  color: #374151;
}

.plist-list {
  overflow-y: auto;
  padding: 0 16px 16px;
}

.plist-item {
  padding: 12px;
  border-bottom: 1px solid #f3f4f6;
  cursor: pointer;
}

.plist-item:hover {
  background: #f9fafb;
}

.plist-row-1 {
  font-weight: 500;
  margin-bottom: 4px;
}

.plist-row-2 {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 14px;
  color: #6b7280;
}

.pill-inline {
  background: #f3f4f6;
  padding: 2px 8px;
  border-radius: 12px;
}

.pill-progress {
  position: relative;
  background: #f3f4f6;
  height: 20px;
  width: 60px;
  border-radius: 10px;
  overflow: hidden;
}

.pill-progress-fill {
  position: absolute;
  height: 100%;
  left: 0;
  top: 0;
}

.pill-progress-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 10px;
  color: white;
  font-weight: bold;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.5);
}

/* Parsel Listesi butonu konumu */
.parsel-list-button-container {
  position: absolute;
  top: 200px; /* Map modları panelinin altında */
  left: 10px;
  z-index: 1005;
}
/* Çoklu Seçim butonu ve Parsel Listeleri butonu için ortak stiller */
.group-toggle, .parcel-list-toggle {
  position: absolute;
  top: var(--leaflet-zoom-margin, 10px);
  right: var(--leaflet-zoom-margin, 10px);
  z-index: 1005;
}

.parcel-list-toggle {
  right: 130px; /* Çoklu seçim butonunun altında */
}

.group-toggle-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 5px 10px;
  border: 1px solid #222831;
  border-radius: 8px;
  background: rgba(34, 40, 49, 0.72);
  backdrop-filter: blur(2px);
  font-family: ui-sans-serif, -apple-system, system-ui, "Segoe UI", Roboto, Arial, sans-serif;
  font-size: 12px;
  color: #fff;
  cursor: pointer;
  transition: background 0.2s;
}

.group-toggle-inner:hover, .group-toggle-btn:hover {
  background: #2b2c2c;
}

.group-toggle input {
  accent-color: #2563eb;
}

.group-select-all-btn {
  padding: 4px 10px;
  font-size: 12px;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
  background: #111827;
  color: #fff;
  cursor: pointer;
}

.group-select-all-btn:hover {
  background: #1f2937;
}